import React, { useState } from 'react';
import '../styles/exchangerBlock.scss'
import { useDispatch, useSelector } from 'react-redux';
import { setUserCurrency } from '../store/currencySliece';

const ExchangerBlock = () => {

    const dispatch = useDispatch()
    const currencyList = useSelector(state => state.currency.currency)
    const userCurrency = useSelector(state => state.currency.userCurrency)

    const [val1, setVal1] = useState();
    const [value, setValue] = useState();

    const mathValue = (num) =>{
        setValue((num * userCurrency.rate).toFixed(2)) 
    }

    return (
        <div className='exchangerBlock'>
            <div className="title">
                <img src="data:image/jpeg;base64,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" alt="" />
                <h2>Конвертор валют</h2>    
            </div>
            <div className="converter">
                <div className="top">
                    <select onChange={(e) => {dispatch(setUserCurrency(e.target.value)); setVal1(0); setValue(0)}}>
                        { currencyList !== null ?
                            currencyList.map(el => <option key={el.name} value={JSON.stringify(el)}>{el.name}</option>)
                        :<option>Null</option>}
                    </select>
                    <input type="number" placeholder='0,00' min={0} value={val1} onChange={(e) => {setVal1(e.target.value); mathValue(e.target.value)}}/>
                </div>
                <div className="middle">
                    { userCurrency !== null ? <span>1 {userCurrency.name} = {userCurrency.rate} UAH</span> : null}
                </div>
                <div className="bot">
                    <select>
                        <option value="">UAH</option>
                    </select>
                    <input type="number" placeholder='0,00' disabled value={value}/>
                </div>
            </div>
        </div>
    );
};

export default ExchangerBlock;